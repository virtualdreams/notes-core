var notes=notes||{};notes=function(e){e("[data-toggle=popover]").popover(),e("[data-href]").click(function(){var t=e(this).data("href");location.href=t}),e("#selectAll").click(function(){e("input[name=id][type=checkbox]").prop("checked",function(){return!!e("#selectAll").is(":checked")})}),e("#trashSubmit").click(function(){var t=e("#trash").data("id");e.ajax({type:"POST",url:"/note/remove/"+t}).done(function(){location.href="/"}).fail(function(){alert("Failed to delete note.")})}),e("#notebook").on("hidden.bs.modal",function(){e("#notebookValue").val(e("#notebook").data("value"))}),e("#notebookRestore").click(function(){e("#notebookValue").val(e("#notebook").data("value"))}),e("#notebookDelete").click(function(){e("#notebookValue").val("")}),e("#notebookSubmit").click(function(){var t=e("#notebook").data("id"),o={id:t,notebook:e("#notebookValue").val()};e.ajax({type:"POST",url:"/note/notebook/",dataType:"json",data:o}).done(function(){location.reload()}).fail(function(){alert("Failed to write notebook.")})}),e("#tags").on("hidden.bs.modal",function(){e("#tagsValue").val(e("#tags").data("value"))}),e("#tagsRestore").click(function(){e("#tagsValue").val(e("#tags").data("value"))}),e("#tagsDelete").click(function(){e("#tagsValue").val("")}),e("#tagsSubmit").click(function(){var t=e("#tags").data("id"),o={id:t,tags:e("#tagsValue").val()};e.ajax({type:"POST",url:"/note/tags/",dataType:"json",data:o}).done(function(){location.reload()}).fail(function(){alert("Failed to write tags.")})}),e.validator.setDefaults({highlight:function(t){e(t).closest(".form-group").addClass("has-error")},unhighlight:function(t){e(t).closest(".form-group").removeClass("has-error")}}),e.validator.addMethod("regex",function(e,t,o){return this.optional(t)||e.match(o)},"This field has the wrong format."),e.validator.addMethod("nowhitespace",function(e,t){return this.optional(t)||""!=e.trim()},"This field is required."),e("#note-form").validate({rules:{title:{required:!0,nowhitespace:!0},content:{required:!0,nowhitespace:!0}}}),e("#settings-form").validate({rules:{items:{required:!0,nowhitespace:!0,min:1,max:100},language:{required:!0,nowhitespace:!0,regex:"en|de"}}}),e("#security-form").validate({rules:{oldpassword:{required:!0,minlength:8},newpassword:{required:!0,minlength:8},confirmpassword:{required:!0,minlength:8,equalTo:"#newpassword"}}}),e("#account-form").validate({rules:{username:{required:!0,email:!0},password:{required:!0,minlength:8}}})}(jQuery);